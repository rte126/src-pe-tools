-- Display Meta Subsystem
-- Copyright © Ellis Cohen 2002-2005

-- procedures/functions are not application-specific
-- they are for general utility use so are not packaged

-----------------------------------------------------------
-- All User Objects
-----------------------------------------------------------

-- Prints source code for the named object of the specified type
CREATE OR REPLACE PROCEDURE PrCode( typ varchar, nam varchar ) IS
BEGIN
   FOR r IN (
      SELECT line, text 
         FROM user_source
         WHERE type = upper(typ) AND name = upper(nam)
         ORDER BY line )
   LOOP
      pl( blpad(r.line,4) || ' '  || substr(rtrim(r.text,chr(10)),1,115) );
   END LOOP;
END;
/

-----------------------------------------------------------
-- Constraints
-----------------------------------------------------------

-----------------------------------------------------------
-- Packages
-----------------------------------------------------------

-----------------------------------------------------------
-- Procedures & Functions
-----------------------------------------------------------

-----------------------------------------------------------
-- Roles
-----------------------------------------------------------

-----------------------------------------------------------
-- Sequences
-----------------------------------------------------------

-----------------------------------------------------------
-- Tables
-----------------------------------------------------------

-----------------------------------------------------------
-- Triggers
-----------------------------------------------------------

-- Print trigger code
CREATE OR REPLACE PROCEDURE PrTrigger( trgr varchar ) IS
BEGIN
   PrCode( 'TRIGGER', trgr );
END;
/

-----------------------------------------------------------
-- Views
-----------------------------------------------------------

-----------------------------------------------------------
-- ALL 
-----------------------------------------------------------
